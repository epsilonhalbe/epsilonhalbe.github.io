<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Martin Heuschober">
  <meta name="dcterms.date" content="2017-06-28">
  <title>Keep calm and curry on</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="https://cdn.bootcss.com/reveal.js/3.5.0/css/reveal.css">
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <link rel="stylesheet" href="https://cdn.bootcss.com/reveal.js/3.5.0/css/theme/solarized.css" id="theme">
  <link rel="stylesheet" href="./custom.css" />
  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement( 'link' );
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match( /print-pdf/gi ) ? 'https://cdn.bootcss.com/reveal.js/3.5.0/css/print/pdf.css' : 'https://cdn.bootcss.com/reveal.js/3.5.0/css/print/paper.css';
    document.getElementsByTagName( 'head' )[0].appendChild( link );
  </script>
  <!--[if lt IE 9]>
  <script src="https://cdn.bootcss.com/reveal.js/3.5.0/lib/js/html5shiv.js"></script>
  <![endif]-->
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section>
  <h1 class="title">Keep calm and curry on</h1>
  <p class="subtitle">Funktionales Programmieren<br /> mit Beispielen in Haskell und Java,<br /> License: <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC-BY-SA-4.0</a></p>
  <p class="author">Martin Heuschober</p>
  <p class="date">2017-06-28</p>
</section>

<section><section id="intro" class="titleslide slide level1"><h1>Intro</h1></section><section id="überblick" class="slide level2">
<h2>Überblick</h2>
<figure>
<img src="./img/tiobe.com-12.6.2017.png" title="Tiobe - Programmiersprachen" alt="Tiobe - Programmiersprachen" width="700" /><figcaption>Tiobe - Programmiersprachen</figcaption>
</figure>
<figure>
<img src="./img/tiobe.com-12.6.2017-haskell.png" title="Tiobe - Haskell" alt="Tiobe - Haskell" width="700" /><figcaption>Tiobe - Haskell</figcaption>
</figure>
<aside class="notes">
Welche Sprachen haben “funktionale Features”? Welche Sprachen haben ein starkes Typsystem?
</aside>
</section><section id="timeline" class="slide level2">
<h2>Timeline</h2>
<p><img src="./img/history_of_programming_languages-haskell.png" title="Timeline - Haskell" alt="Timeline - Haskell" /> <img src="./img/history_of_programming_languages-java.png" title="Timeline - Java" alt="Timeline - Java" /></p>
<p><a href title="http://cdn.oreillystatic.com/news/graphics/prog_lang_poster.pdf">History of Programming languages</a></p>
</section><section id="syntax-features" class="slide level2">
<h2>Syntax &amp; Features</h2>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 46%" />
</colgroup>
<tbody>
<tr class="odd">
<td><div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">main ::</span> <span class="dt">IO</span> ()
main <span class="fu">=</span> putStrLn <span class="st">&quot;Hello Haskell&quot;</span></code></pre></div></td>
<td><div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java"><span class="kw">public</span> <span class="kw">class</span> HelloWorld {
  <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">Main</span> (<span class="bu">String</span>[] args) {
    <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">printLn</span>(<span class="st">&quot;Hello Java!&quot;</span>);
  }
}</code></pre></div></td>
</tr>
<tr class="even">
<td><ul>
<li class="fragment">Whitespace sensitive</li>
<li class="fragment">Funktionsaufrufe ohne ()</li>
<li class="fragment">Typ-Signatur (optional) getrennt von Definition</li>
<li class="fragment">Funktionen sind “first level citizens”</li>
<li class="fragment">Starkes Typsystem + Typinferenz</li>
</ul></td>
<td><ul>
<li class="fragment">Objektorientiert + Vererbung -<code>NullPointer</code></li>
<li class="fragment">Riesiges Ökosystem/Libraries Entwickler</li>
<li class="fragment">IDEs</li>
<li class="fragment">bisschen Funktional (seit Java8)</li>
</ul></td>
</tr>
</tbody>
</table>
</section></section>
<section><section id="funktionales-programmieren" class="titleslide slide level1"><h1>Funktionales Programmieren</h1></section><section id="was-ist-funktional" class="slide level2">
<h2>Was ist funktional?</h2>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="odd">
<td><div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">module</span> <span class="dt">Card</span> <span class="kw">where</span> (sortBy, on, <span class="kw">module</span> <span class="dt">Card</span>)
<span class="kw">import </span><span class="dt">Data.List</span>
<span class="kw">import </span><span class="dt">Data.Function</span>

<span class="kw">data</span> <span class="dt">Suit</span> <span class="fu">=</span> <span class="dt">Heart</span> <span class="fu">|</span> <span class="dt">Clubs</span> <span class="fu">|</span> <span class="dt">Diamond</span> <span class="fu">|</span> <span class="dt">Spades</span>
          <span class="kw">deriving</span> (<span class="dt">Eq</span>, <span class="dt">Show</span>, <span class="dt">Ord</span>, <span class="dt">Enum</span>)

<span class="kw">data</span> <span class="dt">Rank</span> <span class="fu">=</span> <span class="dt">Ace</span>   <span class="fu">|</span> <span class="dt">King</span>  <span class="fu">|</span> <span class="dt">Queen</span> <span class="fu">|</span> <span class="dt">Jack</span> <span class="fu">|</span> <span class="dt">Ten</span> <span class="fu">|</span> <span class="dt">Nine</span>
          <span class="fu">|</span> <span class="dt">Eight</span> <span class="fu">|</span> <span class="dt">Seven</span> <span class="fu">|</span> <span class="dt">Six</span>   <span class="fu">|</span> <span class="dt">Five</span> <span class="fu">|</span> <span class="dt">Four</span><span class="fu">|</span> <span class="dt">Three</span>
          <span class="fu">|</span> <span class="dt">Two</span> <span class="kw">deriving</span> (<span class="dt">Eq</span>, <span class="dt">Show</span>, <span class="dt">Ord</span>, <span class="dt">Enum</span>)

<span class="kw">data</span> <span class="dt">Card</span> <span class="fu">=</span> <span class="dt">Card</span> {<span class="ot">suit ::</span> <span class="dt">Suit</span>,<span class="ot"> rank ::</span> <span class="dt">Rank</span>}
          <span class="kw">deriving</span> (<span class="dt">Show</span>, <span class="dt">Eq</span>)

<span class="ot">allCards ::</span> [<span class="dt">Card</span>]
allCards <span class="fu">=</span> [<span class="dt">Card</span> s v <span class="fu">|</span> s <span class="ot">&lt;-</span> [<span class="fu">Heart..</span>], v <span class="ot">&lt;-</span> [<span class="fu">Ace..</span>]]</code></pre></div></td>
<td><div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java"><span class="kw">public</span> <span class="kw">enum</span> Suit {
  Heart , Clubs , Diamond , Spades
}

<span class="kw">public</span> <span class="kw">enum</span> Rank {
  Ace , King , Queen , Jack , Ten , Nine , Eight,
  Seven , Six , Five , Four , Three , Two
}

<span class="kw">public</span> <span class="kw">class</span> Card {
  <span class="kw">public</span> Suit suit;
  <span class="kw">public</span> Rank rank;

  <span class="kw">public</span> <span class="kw">class</span> <span class="fu">Card</span>(Suit suit, Rank rank) {
     <span class="kw">this</span>.<span class="fu">suit</span> = suit;
     <span class="kw">this</span>.<span class="fu">rank</span> = rank;
  }
}

<span class="kw">public</span> <span class="bu">List</span>&lt;Card&gt; <span class="fu">allCards</span>() {
  <span class="bu">List</span>&lt;Card&gt; result = <span class="kw">new</span> <span class="bu">LinkedList</span>&lt;&gt;();
  <span class="kw">for</span> (Suit s : Suit.<span class="fu">values</span>()) {
    <span class="kw">for</span> (Rank r : Rank.<span class="fu">values</span>()) {
       result.<span class="fu">append</span>(<span class="fu">Card</span>(r,s));
    }
  }
  <span class="kw">return</span> result;
}</code></pre></div></td>
</tr>
</tbody>
</table>
</section><section id="funktional-jetzt-aber-wirklich" class="slide level2">
<h2>Funktional jetzt aber wirklich</h2>
<p>Eine Programmiersprache darf sich (meiner Meinung nach) <strong>funktional</strong> nennen wenn:</p>
<ul>
<li class="fragment">Funktionen als Parameter bzw. Rückgabewerte von anderen Funktionen auftauchen können</li>
<li class="fragment">Funktionen in “Variablen” gesteckt werden können</li>
<li class="fragment"><p>jede Funktion einen Rückgabewert hat.</p></li>
<li class="fragment"><p>Bonuspunkte gibt es für partielle Funktionsaufrufe, i.e. wenn eine Funktion mit mehreren Parametern mit nur einem Parameter aufrufbar ist, und eine Funktion mit um einen Parameter weniger zurückgibt.</p></li>
</ul>
</section><section id="was-ist-eine-funktion" class="slide level2">
<h2>Was ist eine Funktion</h2>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="odd">
<td><div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">f ::</span> a <span class="ot">-&gt;</span> b
<span class="ot">g ::</span> a <span class="ot">-&gt;</span> b <span class="ot">-&gt;</span> c</code></pre></div></td>
<td><a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html">Java8</a></td>
</tr>
</tbody>
</table>
</section><section class="slide level2">

<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="odd">
<td><div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">λ<span class="fu">&gt;</span> <span class="fu">:</span>set <span class="fu">-</span><span class="dt">XOverloadedStrings</span>
λ<span class="fu">&gt;</span> <span class="kw">import qualified</span> <span class="dt">Data.Text</span> <span class="kw">as</span> <span class="dt">T</span>
λ<span class="fu">&gt;</span> uppercased <span class="fu">=</span> T.toUpper <span class="st">&quot;lowercase&quot;</span>
λ<span class="fu">&gt;</span> uppercaser <span class="fu">=</span> T.toUpper</code></pre></div></td>
<td><div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java">

☕&gt; <span class="st">&quot;lowercase&quot;</span>.<span class="fu">toUpperCase</span>()
☕&gt; <span class="bu">String</span>::<span class="fu">toUpperCase</span>()</code></pre></div></td>
</tr>
</tbody>
</table>
</section><section class="slide level2">

<p><a href="https://stackoverflow.com/questions/43493437/haskell-replicate-function/43494383#43494383">Aufgabe: (Stackoverflow)</a> Mache aus einer Liste: <code>[5,4,2]</code> =&gt; <code>&quot;+-----+----+--+&quot;</code></p>
<table>
<colgroup>
<col style="width: 47%" />
<col style="width: 52%" />
</colgroup>
<tbody>
<tr class="odd">
<td><div class="sourceCode"><pre class="sourceCode java fragment"><code class="sourceCode java"><span class="bu">String</span> <span class="fu">fence</span> (<span class="bu">List</span>&lt;<span class="bu">Integer</span>&gt; lst){
    <span class="bu">String</span> result = <span class="st">&quot;+&quot;</span>;
    <span class="kw">for</span>( <span class="bu">Integer</span> i : lst) {
        <span class="kw">for</span> (<span class="dt">int</span> j = <span class="dv">0</span>; j &lt; i,j++){
          result += <span class="st">&quot;-&quot;</span>;
        }
        result += <span class="st">&quot;+&quot;</span>;
    }
    <span class="kw">return</span> result;
}</code></pre></div></td>
<td><div class="sourceCode"><pre class="sourceCode haskell fragment"><code class="sourceCode haskell"><span class="ot">fence ::</span> [<span class="dt">Int</span>] <span class="ot">-&gt;</span> <span class="dt">String</span>
fence <span class="fu">=</span> between <span class="ch">'+'</span> <span class="fu">.</span> intercalate <span class="st">&quot;+&quot;</span> <span class="fu">.</span> map (<span class="ot">`replicate`</span> <span class="ch">'-'</span>)
  <span class="kw">where</span> between c str <span class="fu">=</span>  c<span class="fu">:</span>(str <span class="fu">++</span>[c])</code></pre></div></td>
</tr>
</tbody>
</table>
</section><section class="slide level2">

<p>Mache aus einer Liste: <code>[5,4,2]</code> =&gt; <code>&quot;|     +    +  |&quot;</code></p>
<table>
<colgroup>
<col style="width: 47%" />
<col style="width: 52%" />
</colgroup>
<tbody>
<tr class="odd">
<td><div class="sourceCode"><pre class="sourceCode java fragment"><code class="sourceCode java"><span class="bu">String</span> <span class="fu">fence</span> (<span class="bu">List</span>&lt;<span class="bu">Integer</span>&gt; lst){
    <span class="bu">String</span> result = <span class="st">&quot;+&quot;</span>;
    <span class="kw">for</span>( <span class="bu">Integer</span> i : lst) {
        <span class="kw">for</span> (<span class="dt">int</span> j = <span class="dv">0</span>; j &lt; i,j++){
          result += <span class="st">&quot;-&quot;</span>;
        }
        result += <span class="st">&quot;+&quot;</span>;
    }
    <span class="kw">return</span> result;
}

<span class="bu">String</span> <span class="fu">wall</span> (<span class="bu">List</span>&lt;<span class="bu">Integer</span>&gt; lst){
    <span class="bu">String</span> result = <span class="st">&quot;|&quot;</span>;
    <span class="kw">for</span>( <span class="bu">Integer</span> i : lst) {
        <span class="kw">for</span> (<span class="dt">int</span> j = <span class="dv">0</span>; j &lt; i,j++){
          result += <span class="st">&quot; &quot;</span>;
        }
        result += <span class="st">&quot;+&quot;</span>;
    }
    <span class="kw">return</span> result.<span class="fu">subString</span>(<span class="dv">0</span>,result.<span class="fu">length</span>()-<span class="dv">1</span>) + <span class="st">&quot;|&quot;</span>;
}</code></pre></div></td>
<td><div class="sourceCode"><pre class="sourceCode haskell fragment"><code class="sourceCode haskell"><span class="ot">fence ::</span> [<span class="dt">Int</span>] <span class="ot">-&gt;</span> <span class="dt">String</span>
fence <span class="fu">=</span> between <span class="ch">'|'</span> <span class="fu">.</span> sepBy <span class="ch">'+'</span> <span class="fu">.</span> fillWith <span class="ch">'-'</span>

<span class="ot">wall ::</span> [<span class="dt">Int</span>] <span class="ot">-&gt;</span> <span class="dt">String</span>
wall <span class="fu">=</span> between <span class="ch">'|'</span> <span class="fu">.</span> sepBy <span class="ch">'+'</span> <span class="fu">.</span> fillWith <span class="ch">' '</span>

<span class="ot">fillWith ::</span> <span class="dt">Char</span> <span class="ot">-&gt;</span> [<span class="dt">Int</span>] <span class="ot">-&gt;</span> [<span class="dt">String</span>]
fillWith c ints <span class="fu">=</span> map (flip replicate c) ints

<span class="ot">sepBy ::</span> <span class="dt">String</span> <span class="ot">-&gt;</span> [<span class="dt">String</span>] <span class="ot">-&gt;</span> <span class="dt">String</span>
sepBy i str <span class="fu">=</span> intercalate i strs

<span class="ot">between ::</span> <span class="dt">Char</span> <span class="ot">-&gt;</span> <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">String</span>
between c str <span class="fu">=</span> c<span class="fu">:</span>(str<span class="fu">++</span>[c])</code></pre></div></td>
</tr>
</tbody>
</table>
</section><section class="slide level2">

<table>
<colgroup>
<col style="width: 48%" />
<col style="width: 51%" />
</colgroup>
<tbody>
<tr class="odd">
<td><div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">λ<span class="fu">&gt;</span> sortBy (compare <span class="ot">`on`</span> rank) allCards
λ<span class="fu">&gt;</span> <span class="fu">:</span>t sortBy
<span class="ot">sortBy ::</span> (a <span class="ot">-&gt;</span> a <span class="ot">-&gt;</span> <span class="dt">Ordering</span>) <span class="ot">-&gt;</span> [a] <span class="ot">-&gt;</span> [a]
λ<span class="fu">&gt;</span> <span class="fu">:</span>t on
<span class="ot">on ::</span> (b <span class="ot">-&gt;</span> b <span class="ot">-&gt;</span> c) <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> b) <span class="ot">-&gt;</span> a <span class="ot">-&gt;</span> a <span class="ot">-&gt;</span> c</code></pre></div></td>
<td><div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java">☕&gt; <span class="bu">Collections</span>.<span class="fu">sort</span>(<span class="fu">allCards</span>(),<span class="kw">new</span> <span class="bu">Comparator</span>(){..}
☕&gt; <span class="fu">typeOf</span>(sortBy)
<span class="bu">List</span>&lt;T&gt; <span class="fu">sortBy</span> (BiFunction&lt;T,T,<span class="dt">int</span>&gt; cmp, <span class="bu">List</span>&lt;T&gt; in)
☕&gt; <span class="fu">typeOf</span>(sortBy)
BiFunction&lt;A,A,C&gt; <span class="fu">on</span> (BiFunction&lt;B,B,C&gt; cmp, Function&lt;A,B&gt; f)</code></pre></div></td>
</tr>
</tbody>
</table>
</section><section id="partielle-funktionsaufrufe" class="slide level2">
<h2>Partielle Funktionsaufrufe</h2>
<table>
<colgroup>
<col style="width: 42%" />
<col style="width: 57%" />
</colgroup>
<tbody>
<tr class="odd">
<td><div class="sourceCode"><pre class="sourceCode haskell fragment"><code class="sourceCode haskell"><span class="dt">Employee</span><span class="ot"> ::</span> <span class="dt">Company</span> <span class="ot">-&gt;</span> <span class="dt">Name</span> <span class="ot">-&gt;</span> <span class="dt">Employee</span>
tSystems <span class="fu">=</span> <span class="dt">Employee</span> <span class="st">&quot;T-Systems&quot;</span>
map tSystems [<span class="st">&quot;Martin Heuschober&quot;</span> <span class="fu">..</span>]
map (<span class="dt">Employee</span> <span class="st">&quot;T-Systems&quot;</span>) [<span class="st">&quot;Martin Heuschober&quot;</span><span class="fu">..</span>]</code></pre></div></td>
<td><div class="sourceCode"><pre class="sourceCode java fragment"><code class="sourceCode java"><span class="fu">Employee</span> (<span class="bu">String</span> company, <span class="bu">String</span> name) {..}
Employee <span class="fu">tSystems</span>(<span class="bu">String</span> name) = <span class="fu">Employee</span>(<span class="st">&quot;T-Systems&quot;</span>, name)
<span class="bu">List</span>&lt;<span class="bu">String</span>&gt; employeeNames = <span class="kw">new</span> <span class="bu">ArrayList</span>&lt;&gt; ([<span class="st">&quot;Martin Heuschober&quot;</span>..])
employeeNames.<span class="fu">map</span>(tSystems)</code></pre></div></td>
</tr>
</tbody>
</table>
</section></section>
<section><section id="higher-order-functions" class="titleslide slide level1"><h1>Higher order functions</h1></section><section id="map" class="slide level2">
<h2><code>map</code></h2>
<ul>
<li class="fragment">macht aus einer Liste eine neue Liste</li>
</ul>
<div class="fragment">
<ul>
<li class="fragment">Quasi eine eingeschränkte <code>for</code>-loop<sup>†</sup></li>
</ul>
<table style="width:94%;">
<colgroup>
<col style="width: 40%" />
<col style="width: 53%" />
</colgroup>
<tbody>
<tr class="odd">
<td><div class="sourceCode"><pre class="sourceCode haskell fragment"><code class="sourceCode haskell">map<span class="ot"> ::</span> (a <span class="ot">-&gt;</span> b) <span class="ot">-&gt;</span> [a] <span class="ot">-&gt;</span> [b]
map _ [] <span class="fu">=</span> []
map f (x<span class="fu">:</span>xs) <span class="fu">=</span> f x <span class="fu">:</span> map f xs</code></pre></div></td>
<td><div class="sourceCode"><pre class="sourceCode java fragment"><code class="sourceCode java"><span class="kw">for</span> (Elmtclass e : lst) {
  e' = <span class="fu">f</span>(e)
}</code></pre></div></td>
</tr>
<tr class="even">
<td></td>
<td><div class="sourceCode"><pre class="sourceCode java fragment"><code class="sourceCode java"><span class="kw">for</span>( <span class="dt">int</span> i = <span class="dv">1</span>, i &lt; lst.<span class="fu">length</span>(), i++) {
  e' = <span class="fu">f</span>(lst[i]) + <span class="fu">f</span>(lst[i-<span class="dv">1</span>])
}</code></pre></div></td>
</tr>
</tbody>
</table>
<p><sup>†</sup>: Ich glaube aber fast das gleiche wie eine <code>foreach</code>-loop</p>
</div>
</section><section id="aber-was-bringt-uns-das" class="slide level2">
<h2>Aber was bringt uns das?</h2>
<ul>
<li class="fragment">Parallelisation for “free”</li>
<li class="fragment">equational reasoning</li>
<li class="fragment">(stream) fusion</li>
</ul>
</section><section id="foldreduce" class="slide level2">
<h2><code>fold</code>/<code>reduce</code></h2>
<table style="width:88%;">
<colgroup>
<col style="width: 52%" />
<col style="width: 35%" />
</colgroup>
<tbody>
<tr class="odd">
<td><div class="sourceCode"><pre class="sourceCode haskell fragment"><code class="sourceCode haskell"><span class="ot">fold ::</span> (a <span class="ot">-&gt;</span> b <span class="ot">-&gt;</span> a) <span class="ot">-&gt;</span> a <span class="ot">-&gt;</span> [b] <span class="ot">-&gt;</span> a
fold _ acc [] <span class="fu">=</span> acc
fold f acc (x<span class="fu">:</span>xs) <span class="fu">=</span> fold f (f acc x) xs</code></pre></div></td>
<td><div class="sourceCode"><pre class="sourceCode java fragment"><code class="sourceCode java"><span class="kw">for</span> (Elmtclass e : lst) {
  acc = <span class="fu">f</span>(acc, e);
}
<span class="kw">return</span> acc;</code></pre></div></td>
</tr>
</tbody>
</table>
</section><section id="filter" class="slide level2">
<h2><code>filter</code></h2>
<table>
<colgroup>
<col style="width: 64%" />
<col style="width: 35%" />
</colgroup>
<tbody>
<tr class="odd">
<td><div class="sourceCode"><pre class="sourceCode haskell fragment"><code class="sourceCode haskell">filter<span class="ot"> ::</span> (a <span class="ot">-&gt;</span> <span class="dt">Bool</span>) <span class="ot">-&gt;</span> [a] <span class="ot">-&gt;</span> [a]
filter _ [] <span class="fu">=</span> []
filter p (x<span class="fu">:</span>xs) <span class="fu">=</span> <span class="kw">let</span> xs' <span class="fu">=</span> filter p xs
                   <span class="kw">in</span> <span class="kw">if</span> p x <span class="kw">then</span> x <span class="fu">:</span> xs' <span class="kw">else</span> xs'</code></pre></div></td>
<td><div class="sourceCode"><pre class="sourceCode java fragment"><code class="sourceCode java"><span class="kw">for</span> (Elmtclass e : lst) {
  <span class="kw">if</span> (<span class="fu">p</span>(e)) newlist.<span class="fu">append</span>(e);
}
<span class="kw">return</span> newlist;</code></pre></div></td>
</tr>
<tr class="even">
<td><div class="sourceCode"><pre class="sourceCode haskell fragment"><code class="sourceCode haskell">filter p <span class="fu">=</span> foldr (\y acc <span class="ot">-&gt;</span> <span class="kw">if</span> p y <span class="kw">then</span> y<span class="fu">:</span>acc <span class="kw">else</span> acc) []</code></pre></div></td>
<td></td>
</tr>
</tbody>
</table>
</section><section id="allany" class="slide level2">
<h2><code>all</code>/<code>any</code></h2>
<table style="width:94%;">
<colgroup>
<col style="width: 57%" />
<col style="width: 36%" />
</colgroup>
<tbody>
<tr class="odd">
<td><div class="sourceCode"><pre class="sourceCode haskell fragment"><code class="sourceCode haskell">any<span class="ot"> ::</span> (a <span class="ot">-&gt;</span> <span class="dt">Bool</span>) <span class="ot">-&gt;</span> [a] <span class="ot">-&gt;</span> <span class="dt">Bool</span>
any _ [] <span class="fu">=</span> <span class="dt">False</span>
any p (x<span class="fu">:</span>xs) <span class="fu">=</span> <span class="kw">if</span> p x <span class="kw">then</span> <span class="dt">True</span>
                      <span class="kw">else</span> any p xs</code></pre></div></td>
<td><div class="sourceCode"><pre class="sourceCode java fragment"><code class="sourceCode java"><span class="kw">for</span> (Elmtclass e : lst) {
  <span class="kw">if</span> (<span class="fu">p</span>(e)) <span class="kw">return</span> <span class="kw">true</span>;
}
<span class="kw">return</span> <span class="kw">false</span>;</code></pre></div></td>
</tr>
<tr class="even">
<td><div class="sourceCode"><pre class="sourceCode haskell fragment"><code class="sourceCode haskell">all<span class="ot"> ::</span> (a <span class="ot">-&gt;</span> <span class="dt">Bool</span>) <span class="ot">-&gt;</span> [a] <span class="ot">-&gt;</span> <span class="dt">Bool</span>
all _ [] <span class="fu">=</span> <span class="dt">True</span>
all p (x<span class="fu">:</span>xs) <span class="fu">=</span> p x <span class="fu">&amp;&amp;</span> all p xs</code></pre></div></td>
<td><div class="sourceCode"><pre class="sourceCode java fragment"><code class="sourceCode java"><span class="kw">for</span> (Elmtclass e : lst) {
  <span class="kw">if</span> (!<span class="fu">p</span>(e)) <span class="kw">return</span> <span class="kw">false</span>;
}
<span class="kw">return</span> <span class="kw">true</span>;</code></pre></div></td>
</tr>
<tr class="odd">
<td><div class="sourceCode"><pre class="sourceCode haskell fragment"><code class="sourceCode haskell">any p <span class="fu">=</span> foldr (\y acc <span class="ot">-&gt;</span> p y <span class="fu">||</span> acc ) <span class="dt">False</span>
all p <span class="fu">=</span> foldr (\y acc <span class="ot">-&gt;</span> p y <span class="fu">&amp;&amp;</span> acc ) <span class="dt">True</span></code></pre></div></td>
<td></td>
</tr>
<tr class="even">
<td><div class="sourceCode"><pre class="sourceCode haskell fragment"><code class="sourceCode haskell">all p <span class="fu">=</span> not <span class="fu">.</span> all (not <span class="fu">.</span> p)</code></pre></div></td>
<td></td>
</tr>
</tbody>
</table>
</section></section>
<section><section id="typsystem" class="titleslide slide level1"><h1>Typsystem</h1></section><section id="info" class="slide level2">
<h2>Info</h2>
<ul>
<li class="fragment">Hindley-Milner</li>
<li class="fragment">stark, statisch</li>
</ul>
</section><section id="mein-problem-mit-schwachen-typsystemen" class="slide level2">
<h2>Mein Problem mit schwachen Typsystemen</h2>
<p>Aus der Dokumentation von node.js (fast wortgetreu) <a href="https://nodejs.org/api/fs.html#fs_fs_opensync_path_flags_mode"><code>fs.openSync(path, flags[, mode])</code></a></p>
<div class="fragment">
<ul>
<li class="fragment"><code>path &lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</code></li>
<li class="fragment"><code>flags &lt;string&gt; | &lt;number&gt;</code></li>
<li class="fragment"><code>mode &lt;integer&gt;</code></li>
</ul>
<div class="sourceCode"><pre class="sourceCode javascript fragment"><code class="sourceCode javascript"><span class="co">// get the file descriptor of the file to be truncated</span>
<span class="kw">const</span> fd <span class="op">=</span> <span class="va">fs</span>.<span class="at">openSync</span>(<span class="st">'temp.txt'</span><span class="op">,</span> <span class="st">'r+'</span>)<span class="op">;</span></code></pre></div>
</div>
<div class="fragment">
<p>Synchronous version of fs.open(). Returns an integer representing the file descriptor.</p>
</div>
</section><section id="offene-fragen" class="slide level2">
<h2>Offene Fragen</h2>
<ul>
<li class="fragment">Welche Flags gibt es?</li>
<li class="fragment">Was ist das ‘+’?</li>
<li class="fragment">Welche numerischen Flags gibt es?</li>
<li class="fragment">Sind das jetzt auch <code>&lt;integer&gt;</code> oder auch Kommazahlen?</li>
</ul>
<div class="fragment">
<ul>
<li class="fragment">Aber ok das ist ja nur die Dokumentation - gute Programmierer kümmern sich ja gern darum, dass ihre Doku brandaktuell und vollständig ist</li>
</ul>
</div>
</section><section id="typsysteme-sind-ja-da-den-programmierern-helfen-keine-fehler-zu-machen" class="slide level2">
<h2>Typsysteme sind ja da den Programmierern helfen keine Fehler zu machen</h2>
<p><a href="https://nodejs.org/api/fs.html#fs_fs_ftruncate_fd_len_callback"><code>fs.truncate(&lt;integer&gt;, &lt;integer&gt;, &lt;Function&gt;)</code></a></p>
<div class="sourceCode"><pre class="sourceCode javascript fragment"><code class="sourceCode javascript"><span class="co">// truncate the file to first four bytes</span>
<span class="va">fs</span>.<span class="at">ftruncate</span>(<span class="dv">4</span><span class="op">,</span> fd<span class="op">,</span> (err) <span class="op">=&gt;</span> <span class="op">{</span>
  <span class="va">assert</span>.<span class="at">ifError</span>(err)<span class="op">;</span>
  <span class="va">console</span>.<span class="at">log</span>(<span class="va">fs</span>.<span class="at">readFileSync</span>(<span class="st">'temp.txt'</span><span class="op">,</span> <span class="st">'utf8'</span>))<span class="op">;</span>
<span class="op">}</span>)<span class="op">;</span></code></pre></div>
</section><section id="ok-das-kann-ja-nicht-passieren-wenn-man-die-doku-ordentlich-liest" class="slide level2">
<h2>Ok das kann ja nicht passieren wenn man die Doku ordentlich liest</h2>
<p>machen ja auch alle - und kopieren nicht einfach Code von Stackoverflow</p>
<div class="fragment">
<p><a href="https://nodejs.org/api/fs.html#fs_fs_ftruncate_fd_len_callback"><code>fs.truncate(fd &lt;integer&gt;, len &lt;integer&gt;, callback &lt;Function&gt;)</code></a></p>
<div class="sourceCode"><pre class="sourceCode javascript fragment"><code class="sourceCode javascript"><span class="va">fs</span>.<span class="at">ftruncate</span>(fd<span class="op">+</span><span class="dv">1</span><span class="op">,</span><span class="dv">4</span><span class="op">,</span> (err) <span class="op">=&gt;</span> <span class="op">{</span>
  <span class="va">assert</span>.<span class="at">ifError</span>(err)<span class="op">;</span>
  <span class="va">console</span>.<span class="at">log</span>(<span class="va">fs</span>.<span class="at">readFileSync</span>(<span class="st">'temp.txt'</span><span class="op">,</span> <span class="st">'utf8'</span>))<span class="op">;</span>
<span class="op">}</span>)<span class="op">;</span></code></pre></div>
</div>
</section><section id="wozu-typsysteme-also" class="slide level2">
<h2>Wozu Typsysteme also?</h2>
<ol type="1">
<li class="fragment">Soll unterstützen.</li>
<li class="fragment">Soll so viel Info wie möglich beinalten.</li>
<li class="fragment">Soll so wenig einschränken wie möglich.</li>
<li class="fragment">Soll weitgehend “automatisch” passieren.</li>
</ol>
<p>Jeder Fehler der zur Compile-time erkannt wird, landet nie bei einem Kunden.</p>
</section></section>
<section><section id="dinge-die-das-haskell-typsystem-gut-macht" class="titleslide slide level1"><h1>Dinge die das Haskell Typsystem gut macht</h1></section><section id="und-andere-systeme-nicht-können" class="slide level2">
<h2>Und andere Systeme nicht können:</h2>
</section><section id="io-eingrenzen" class="slide level2">
<h2>IO eingrenzen</h2>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">readLn<span class="ot"> ::</span> <span class="dt">Read</span> a <span class="ot">=&gt;</span> <span class="dt">IO</span> a
fmap readMay <span class="fu">.</span><span class="ot"> getLine ::</span> <span class="dt">Read</span> a <span class="ot">=&gt;</span> <span class="dt">IO</span> (<span class="dt">Maybe</span> a)
<span class="ot">withSqliteConn ::</span> <span class="dt">ConnString</span> <span class="ot">-&gt;</span> <span class="dt">Query</span> a <span class="ot">-&gt;</span> <span class="dt">IO</span> a</code></pre></div>
</section><section id="sum-types" class="slide level2">
<h2>Sum types</h2>
<div class="sourceCode"><pre class="sourceCode haskell fragment"><code class="sourceCode haskell"><span class="kw">data</span> <span class="dt">Either</span> a b <span class="fu">=</span> <span class="dt">Left</span> a <span class="fu">|</span> <span class="dt">Right</span> b</code></pre></div>
<div class="sourceCode"><pre class="sourceCode haskell fragment"><code class="sourceCode haskell"><span class="kw">data</span> <span class="dt">JSON</span> <span class="fu">=</span> <span class="dt">JsonString</span> <span class="dt">Text</span>
          <span class="fu">|</span> <span class="dt">JsonNumber</span> <span class="dt">Rational</span>
          <span class="fu">|</span> <span class="dt">JsonBool</span>   <span class="dt">Bool</span>
          <span class="fu">|</span> <span class="dt">JsonNull</span>
          <span class="fu">|</span> <span class="dt">JsonObject</span> (<span class="dt">Map</span> <span class="dt">Text</span> <span class="dt">JSON</span>)
          <span class="fu">|</span> <span class="dt">JsonArray</span> [<span class="dt">JSON</span>]</code></pre></div>
</section><section id="pattern-matching" class="slide level2">
<h2>Pattern matching</h2>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">data</span> <span class="dt">IPv4</span> <span class="fu">=</span> <span class="dt">IPv4</span> <span class="dt">Word8</span> <span class="dt">Word8</span> <span class="dt">Word8</span> <span class="dt">Word8</span>
<span class="ot">runParser ::</span> <span class="dt">Parser</span> a <span class="ot">-&gt;</span> <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">Either</span> <span class="dt">String</span> a</code></pre></div>
<div class="sourceCode"><pre class="sourceCode haskell fragment"><code class="sourceCode haskell"><span class="kw">case</span> runParser ipv4 <span class="st">&quot;127.-1.120.255&quot;</span>
  <span class="kw">of</span> <span class="dt">Left</span> msg <span class="ot">-&gt;</span> <span class="kw">do</span> something with errormessage
     <span class="dt">Right</span> x <span class="ot">-&gt;</span> <span class="kw">do</span> something with result</code></pre></div>
<div class="sourceCode"><pre class="sourceCode haskell fragment"><code class="sourceCode haskell"><span class="ot">ipv4 ::</span> <span class="dt">Parser</span> <span class="dt">IPv4</span>
ipv4 <span class="fu">=</span> <span class="kw">do</span> a <span class="ot">&lt;-</span> check <span class="fu">=&lt;&lt;</span> decimal
          dot
          b <span class="ot">&lt;-</span> check <span class="fu">=&lt;&lt;</span> decimal
          dot
          c <span class="ot">&lt;-</span> check <span class="fu">=&lt;&lt;</span> decimal
          dot
          d <span class="ot">&lt;-</span> check <span class="fu">=&lt;&lt;</span> decimal
          return <span class="dt">IPv4</span> a b c d
  <span class="kw">where</span><span class="ot"> dot ::</span> <span class="dt">Parser</span> ()
        dot <span class="fu">=</span> void <span class="fu">$</span> char <span class="ch">'.'</span>
<span class="ot">        check ::</span> <span class="dt">Integral</span> <span class="ot">-&gt;</span> <span class="dt">Parser</span> <span class="dt">Word8</span>
        check x <span class="fu">=</span> <span class="kw">do</span> unless (<span class="dv">0</span> <span class="fu">&lt;=</span> x <span class="fu">&amp;&amp;</span> x <span class="fu">&lt;=</span> <span class="dv">256</span>) <span class="fu">$</span>
                       fail <span class="st">&quot;Failed parsing IPv4&quot;</span>
                     return <span class="fu">$</span> fromIntegral x</code></pre></div>
</section><section id="typinferez" class="slide level2">
<h2>Typinferez</h2>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">map<span class="ot"> ::</span> _
map f [] <span class="fu">=</span> []
map f (x<span class="fu">:</span>xx) <span class="fu">=</span> f x<span class="fu">:</span> map f xx</code></pre></div>
</section><section class="slide level2">

<p><code>[]</code> und <code>(:)</code> sind Listenkonstruktoren (leere Liste und <code>cons</code>-Operator) =&gt; 2tes Argument von <code>map</code> muss eine Liste sein.</p>
<div class="sourceCode"><pre class="sourceCode haskell fragment"><code class="sourceCode haskell"><span class="ot">    map ::</span> _ <span class="ot">-&gt;</span> [a] <span class="ot">-&gt;</span> _</code></pre></div>
<div class="fragment">
<p>ebenso das Ergebnis</p>
<div class="sourceCode"><pre class="sourceCode haskell fragment"><code class="sourceCode haskell"><span class="ot">    map ::</span> _ <span class="ot">-&gt;</span> [a] <span class="ot">-&gt;</span> [b]</code></pre></div>
</div>
</section><section class="slide level2">

<p><code>f</code> wird in Zeile 2 auf das erste Element der Argument-Liste angewandt =&gt; damit muss <code>f</code> eine Funktion sein</p>
<div class="sourceCode"><pre class="sourceCode haskell fragment"><code class="sourceCode haskell"><span class="ot">    map ::</span> (x <span class="ot">-&gt;</span> y) <span class="ot">-&gt;</span> [a] <span class="ot">-&gt;</span> [b]</code></pre></div>
<div class="fragment">
<p><code>f</code> wird in Zeile 2 auf das erste Element der Argument-Liste angewandt =&gt; damit muss <code>f</code> der Wertebereich von <code>f</code> <code>a</code> sein und der Zielbereich <code>b</code></p>
<div class="sourceCode"><pre class="sourceCode haskell fragment"><code class="sourceCode haskell"><span class="ot">    map ::</span> (a <span class="ot">-&gt;</span> b) <span class="ot">-&gt;</span> [a] <span class="ot">-&gt;</span> [b]</code></pre></div>
</div>
</section><section id="und-man-sich-klauen-kann" class="slide level2">
<h2>Und man sich klauen kann</h2>
</section><section id="generics-verwenden-und-arrays-vermeiden" class="slide level2">
<h2>Generics verwenden und Arrays vermeiden</h2>
<div class="sourceCode"><pre class="sourceCode java fragment"><code class="sourceCode java"><span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span>(<span class="bu">String</span>[] args) {
    Circle[] circles = <span class="kw">new</span> Circle[<span class="dv">2</span>];
    <span class="bu">Shape</span>[] arr = circles;
    arr[<span class="dv">0</span>] = <span class="kw">new</span> <span class="fu">Circle</span>(<span class="fl">1.0</span>);
    arr[<span class="dv">1</span>] = <span class="kw">new</span> <span class="fu">Square</span>(<span class="fl">1.0</span>);
    <span class="kw">for</span> (<span class="bu">Shape</span> s : arr) {
       <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(s);
    }
}</code></pre></div>
<div class="sourceCode"><pre class="sourceCode java fragment"><code class="sourceCode java"><span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span>(<span class="bu">String</span>[] args) {
    <span class="bu">List</span> &lt;Circle&gt; lst = <span class="kw">new</span> <span class="bu">ArrayList</span>&lt;&gt;();
    lst.<span class="fu">add</span>(<span class="kw">new</span> <span class="fu">Circle</span>(<span class="fl">1.0</span>));
    lst.<span class="fu">add</span>(<span class="kw">new</span> <span class="fu">Square</span>(<span class="fl">1.0</span>));
    <span class="kw">for</span> (<span class="bu">Shape</span> s : lst) {
       <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(s.<span class="fu">area</span>());
    }
}</code></pre></div>
</section><section id="haskell-ist-pure" class="slide level2">
<h2>Haskell ist pure</h2>
<ul>
<li class="fragment"><code>NonNullable</code>/<code>@Nullable</code> verwenden</li>
<li class="fragment">IO minimieren</li>
<li class="fragment">mutable State minimieren - z.B. <code>List.append(x)</code> verändert eine Liste und ist daher eine schlechte Idee . . .</li>
<li class="fragment">Abstraktionen wie Funktor, Applicative, Monad, Monoid etc.</li>
</ul>
</section><section id="fundamental-theorem-of-software-engineering" class="slide level2">
<h2>Fundamental theorem of software engineering</h2>
<blockquote>
<p>“We can solve any problem by introducing an extra level of indirection.”</p>
</blockquote>
<p>Butler Lampson</p>
</section></section>
<section><section id="functor" class="titleslide slide level1"><h1>Functor</h1></section><section id="what" class="slide level2">
<h2>What?</h2>
<p>Ziel: Einen Container-Datentyp elementweise verändern, aber die Struktur des Containers beibehalten. Warum: Fast jeder Container hat diese Eigenschaft.</p>
</section><section id="haskell" class="slide level2">
<h2>Haskell</h2>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">class</span> <span class="dt">Functor</span> c <span class="kw">where</span>
<span class="ot">    fmap ::</span> (a <span class="ot">-&gt;</span> b) <span class="ot">-&gt;</span> c a <span class="ot">-&gt;</span> c b</code></pre></div>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">data</span> [a] <span class="fu">=</span> <span class="fu">..</span>
<span class="kw">data</span> <span class="dt">Maybe</span> a <span class="fu">=</span> <span class="dt">Nothing</span> <span class="fu">|</span> <span class="dt">Just</span> a
<span class="kw">data</span> <span class="dt">Tree</span> a <span class="fu">=</span> <span class="dt">Empty</span>
            <span class="fu">|</span> <span class="dt">Tree</span> {<span class="ot"> label ::</span> a
                   ,<span class="ot"> leftBranch  ::</span> <span class="dt">Tree</span> a
                   ,<span class="ot"> rightBranch ::</span> <span class="dt">Tree</span> a }
<span class="kw">data</span> <span class="dt">RoseTree</span> a <span class="fu">=</span> <span class="dt">RoseTree</span> {<span class="ot"> label ::</span> a
                           ,<span class="ot"> children ::</span> [<span class="dt">RoseTree</span> a]
                           }
<span class="kw">data</span> <span class="dt">IntMap</span> a <span class="fu">=</span> <span class="fu">..</span></code></pre></div>
</section><section class="slide level2">

<div class="sourceCode"><pre class="sourceCode haskell fragment"><code class="sourceCode haskell"><span class="kw">instance</span> <span class="dt">Functor</span> [] <span class="kw">where</span>
  fmap _ [] <span class="fu">=</span> []
  fmap f (x<span class="fu">:</span>xs) <span class="fu">=</span> f x <span class="fu">:</span> fmap f xs</code></pre></div>
<div class="sourceCode"><pre class="sourceCode haskell fragment"><code class="sourceCode haskell"><span class="kw">instance</span> <span class="dt">Functor</span> <span class="dt">Maybe</span> <span class="kw">where</span>
  fmap _ <span class="dt">Nothing</span> <span class="fu">=</span> <span class="dt">Nothing</span>
  fmap f (<span class="dt">Just</span> a) <span class="fu">=</span> <span class="dt">Just</span> (f a)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode haskell fragment"><code class="sourceCode haskell"><span class="kw">instance</span> <span class="dt">Functor</span> <span class="dt">Tree</span> <span class="kw">where</span>
  fmap _ <span class="dt">Empty</span> <span class="fu">=</span> <span class="dt">Empty</span>
  fmap f (<span class="dt">Tree</span> x lB rB) <span class="fu">=</span> <span class="dt">Tree</span> (f x) (fmap f lB) (fmap f rB)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode haskell fragment"><code class="sourceCode haskell"><span class="kw">instance</span> <span class="dt">Functor</span> <span class="dt">Tree</span> <span class="kw">where</span>
  fmap f (<span class="dt">RoseTree</span> x xs) <span class="fu">=</span> <span class="dt">RoseTree</span> (f x) (fmap (fmap f) xs)</code></pre></div>
</section><section id="java" class="slide level2">
<h2>Java</h2>
<div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java"><span class="kw">import</span><span class="im"> java.util.function.Function;</span>

<span class="kw">interface</span> Functor&lt;T&gt; {
    &lt;R&gt; Functor&lt;R&gt; <span class="fu">fmap</span>(Function&lt;T, R&gt; f);
}

<span class="kw">interface</span> Functor&lt;T,F <span class="kw">extends</span> Functor&lt;?,?&gt;&gt; {
    &lt;R&gt; F <span class="fu">fmap</span>(Function&lt;T,R&gt; f);
}

<span class="kw">class</span> <span class="bu">Identity</span>&lt;T&gt; <span class="kw">implements</span> Functor&lt;T,<span class="bu">Identity</span>&lt;?&gt;&gt; {
    <span class="kw">private</span> <span class="dt">final</span> T value;

    <span class="bu">Identity</span>(T value) { <span class="kw">this</span>.<span class="fu">value</span> = value; }

    <span class="kw">public</span> &lt;R&gt; <span class="bu">Identity</span>&lt;R&gt; <span class="fu">fmap</span>(Function&lt;T,R&gt; f) {
        <span class="dt">final</span> R result = f.<span class="fu">apply</span>(value);
        <span class="kw">return</span> <span class="kw">new</span> <span class="bu">Identity</span>&lt;&gt;(result);
    }
}</code></pre></div>
</section></section>
<section><section id="links" class="titleslide slide level1"><h1>Links</h1></section><section id="haskell-1" class="slide level2">
<h2>Haskell</h2>
<ul>
<li class="fragment"><a href="https://www.haskell.org">haskell.org</a></li>
<li class="fragment"><a href="http://learnyouahaskell.com">Learn you a haskell for great good</a></li>
<li class="fragment"><a href="http://book.realworldhaskell.org/">Real World Haskell</a></li>
<li class="fragment"><a href="https://www.yesodweb.com/">WebFramework: Yesod</a></li>
<li class="fragment"><a href="http://chimera.labs.oreilly.com/books/1230000000929">Parallel and concurrent programming in haskell</a></li>
<li class="fragment"><a href="https://www.haskell.org/hoogle">hoogle</a></li>
</ul>
</section><section id="java-1" class="slide level2">
<h2>Java</h2>
<ul>
<li class="fragment"><a href="https://technologyconversations.com/2014/02/25/java-8-tutorial-through-katas-berlin-clock-easy/">Java8 - Berlin clock kata</a></li>
</ul>
</section></section>
    </div>
  </div>

  <script src="https://cdn.bootcss.com/reveal.js/3.5.0/lib/js/head.min.js"></script>
  <script src="https://cdn.bootcss.com/reveal.js/3.5.0/js/reveal.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        // Display controls in the bottom right corner
        controls: true,
        // Display a presentation progress bar
        progress: true,
        // Push each slide change to the browser history
        history: true,
        // Transition style
        transition: 'default', // none/fade/slide/convex/concave/zoom
        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: '100%',
        height: '100%',
        // Factor of the display size that should remain empty around the content
        margin: 0,
        // Bounds for smallest/largest possible scale to apply to content
        minScale: 1,
        maxScale: 1,

        // Optional reveal.js plugins
        dependencies: [
          { src: 'https://cdn.bootcss.com/reveal.js/3.5.0/lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'https://cdn.bootcss.com/reveal.js/3.5.0/plugin/zoom-js/zoom.js', async: true },
              { src: 'https://cdn.bootcss.com/reveal.js/3.5.0/plugin/notes/notes.js', async: true }
        ]
      });
    </script>
    </body>
</html>
